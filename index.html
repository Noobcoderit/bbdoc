<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>B'baria Dr.</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* CSS ‡¶ï‡ßã‡¶° ‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ‡¶Ü‡¶õ‡ßá */
body{font-family:'Noto Sans Bengali',Arial,sans-serif;margin:0;padding:0;background:#f2f2f2;color:#222;transition:background .3s,color .3s}
body.dark-mode{background:#121212;color:#ddd}
h2{text-align:center;margin:0;padding:8px 0;position:sticky;top:0;background:#f2f2f2;z-index:10;font-size:16px}
body.dark-mode h2{background:#121212}
.controls{display:flex;flex-wrap:wrap;justify-content:center;gap:5px;margin-bottom:5px;padding:3px;position:sticky;top:32px;background:#f2f2f2;z-index:10}
body.dark-mode .controls{background:#121212}

/* ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶¨‡¶æ‡¶ü‡¶®/‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
input,select,button{padding:5px 8px;font-size:12px;border-radius:5px;border:1px solid #ccc;transition:background .3s,color .3s,border .3s, transform .2s, box-shadow .2s}
body.dark-mode input,body.dark-mode select{background:#1e1e1e;color:#ddd;border:1px solid #555}
button{cursor:pointer;border:none}

/* ‡¶π‡ßã‡¶≠‡¶æ‡¶∞/‡¶´‡ßã‡¶ï‡¶æ‡¶∏ ‡¶á‡¶´‡ßá‡¶ï‡ßç‡¶ü */
button:hover:not(#submitBtn):not(.close-btn) { 
    transform: scale(1.05); 
    box-shadow: 0 2px 5px rgba(0,0,0,0.2); 
}
input:focus, select:focus {
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); 
    border-color: #007bff;
    outline: none;
}
body.dark-mode input:focus, body.dark-mode select:focus {
    box-shadow: 0 0 5px rgba(77, 171, 245, 0.7);
    border-color: #4dabf5;
}

/* ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶¨‡¶æ‡¶ü‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
#refreshBtn{background:#0077cc;color:#fff}
#todayDoctorBtn{background:#ff6600;color:white;font-weight:bold}
#favFilterBtn{background:#e91e63;color:white;font-weight:bold} /* ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ */
#weeklyFilter{background:#4CAF50;color:white;font-weight:bold;border:none}
#darkModeBtn{background:#555;color:#fff}
#addDoctorBtn{background:#28a745;color:#fff}

#todayDoctorBtn.active-filter-btn{box-shadow:0 2px 5px rgba(255,102,0,.5);transform:scale(1.02);border:1px solid #ff6600}
#favFilterBtn.active-filter-btn{box-shadow:0 2px 5px rgba(233,30,99,.5);transform:scale(1.02);border:2px solid #fff}

#doctorContainer{max-width:600px;margin:0 auto;padding:10px;height:calc(100vh - 150px);overflow-y:auto}

.card{padding:10px;margin:8px 0;border-radius:8px;box-shadow:0 1px 4px rgba(0,0,0,.1);opacity:0;transform:translateY(10px);background:#fff;transition:transform .2s,opacity .5s; position: relative;}
body.dark-mode .card{background:#1e1e1e;color:#ddd}
.card.show{opacity:1;transform:translateY(0)}

/* ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶π‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ü‡¶á‡¶ï‡¶® ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
.fav-icon {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    cursor: pointer;
    background: none;
    border: none;
    padding: 0;
    transition: transform 0.2s;
}
.fav-icon:hover { transform: scale(1.2); }

.doctor-name{font-size:18px;font-weight:bold;color:#0077cc;margin-bottom:8px;text-align:center;padding-bottom:3px;border-bottom:1px solid #f0f0f0; padding-right: 20px;}
body.dark-mode .doctor-name{color:#4dabf5;border-bottom:1px solid #282828}
.label{font-weight:bold;font-size:12px}
.card p{margin:2px 0;font-size:12px;}
.share-btn{display:block;width:100%;margin-top:6px;padding:6px;border-radius:5px;color:white;background:#17a2b8;text-align:center; transition: transform .2s}
.share-btn:hover { transform: scale(1.01); } 

#backToTop{position:fixed;bottom:50px;right:15px;padding:8px 12px;background:#0077cc;color:white;border:none;border-radius:50%;font-size:16px;cursor:pointer;display:none}

footer{text-align:center;font-size:7px;padding:0;margin:0;color:#555;background:#f2f2f2;position:sticky;bottom:0}
body.dark-mode footer{background:#121212;color:#aaa}

/* Loader and Doctor Count styles */
.main-loader-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:120px;color:#0077cc;animation:fadeIn .5s}
body.dark-mode .main-loader-container{color:#4dabf5}
.main-spinner{width:30px;height:30px;border-radius:50%;border:3px solid #f3f3f3;border-top:3px solid #0077cc;border-bottom:3px solid #0077cc;animation:spin 1s linear infinite;margin-bottom:5px}
body.dark-mode .main-spinner{border-top:3px solid #4dabf5;border-bottom:3px solid #4dabf5}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
@keyframes fadeIn{0%{opacity:0;transform:translateY(5px)}100%{opacity:1;transform:translateY(0)}}
#doctorCount{text-align:center;margin:1px 0 3px 0;font-weight:bold;font-size:11px}

/* --- ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü UI ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ --- */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, rgba(0,0,0,0.5), rgba(0,0,0,0.7));justify-content:center;align-items:center;z-index:1000;opacity:0;transition:opacity .4s, backdrop-filter .4s; backdrop-filter: blur(0px);}
.modal.show{display:flex;opacity:1;backdrop-filter: blur(5px);}

.modal .box{
    background:#fff;
    padding:30px;
    border-radius:15px;
    width:350px;
    max-width:90%;
    text-align:center;
    position:relative;
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
    transform: translateY(-20px);
    transition: transform .4s ease-out;
}
.modal.show .box{
    transform: translateY(0);
}
body.dark-mode .modal .box{background:#282828;color:#ddd; box-shadow:0 10px 30px rgba(0,0,0,0.7);}

.box h3{margin-bottom:20px;font-size:22px;color:#007bff;}
body.dark-mode .box h3{color:#4dabf5;}

/* Input field styles */
.input-group { 
    margin: 20px 0; 
    position: relative;
    border-bottom: 2px solid #ccc;
    transition: border-bottom .3s;
}
.input-group:focus-within {
    border-bottom: 2px solid #007bff;
}
body.dark-mode .input-group { border-bottom: 2px solid #444; }
body.dark-mode .input-group:focus-within { border-bottom: 2px solid #4dabf5; }

.box input {
    width: 100%;
    padding: 8px 0;
    font-size: 14px;
    border: none;
    background: transparent;
    outline: none;
    color: #222;
    padding-bottom: 5px;
}
body.dark-mode .box input { color: #ddd; }


/* Submit Button Style */
#submitBtn {
    width: 100%;
    padding: 10px;
    background: linear-gradient(45deg, #007bff, #00c6ff);
    color: white;
    font-size: 14px;
    font-weight: bold;
    border-radius: 8px;
    margin-top: 15px;
    box-shadow: 0 4px 10px rgba(0, 123, 255, 0.4);
    transition: background .3s, transform .2s, box-shadow .3s;
}
#submitBtn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0, 123, 255, 0.6);
}

/* Close Button Style */
.close-btn {
    width: 100%;
    padding: 10px;
    background: #dc3545;
    color: white;
    font-size: 14px;
    font-weight: bold;
    border-radius: 8px;
    margin-top: 10px;
    transition: background .3s, transform .2s;
}
.close-btn:hover { 
    background: #c82333; 
    transform: translateY(-1px);
}

#msg{margin-top:10px;font-size:12px;min-height:15px;font-weight:bold;}

/* --- ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶Ö‡¶™‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶® --- */
@media (max-width: 600px) {
    .controls input:not(#searchInput), .controls select, .controls button {
        padding: 4px 6px; 
        font-size: 11px;  
        width: calc(33.33% - 4px); 
    }
    .controls button:hover:not(#submitBtn):not(.close-btn) { 
        transform: scale(1.02); 
    }
    #searchInput {
        padding: 5px 8px; 
        font-size: 12px; 
        margin-bottom: 3px;
    }
    #refreshBtn, #todayDoctorBtn, #weeklyFilter {
        width: calc(33.33% - 4px); 
    }
    #favFilterBtn { width: calc(50% - 4px); flex-grow: 1;}
    .modal .box { padding: 20px; }
    .box h3 { font-size: 20px; }
}
</style>
</head>
<body>

<h2>‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡¶æ ‡¶°‡¶ï‡ßç‡¶ü‡¶∞</h2>

<div class="controls">
    <input type="text" id="searchInput" placeholder="‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶® (‡¶®‡¶æ‡¶Æ / ‡¶°‡¶ø‡¶ó‡ßç‡¶∞‡¶ø / ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤)">
    <select id="hospitalFilter"><option value="">‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤</option></select>
    <select id="treatmentFilter"><option value="">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó/‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ</option></select> 
    <button id="refreshBtn">‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∏ Dr. ‚ôªÔ∏è</button>
    <button id="todayDoctorBtn">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ Dr. üë®‚Äç‚öïÔ∏è</button>
    
    <select id="weeklyFilter">
        <option value="">‡¶∏‡¶æ‡¶™‡ßç‡¶§‡¶æ‡¶π‡¶ø‡¶ï Dr.üóìÔ∏è</option>
    </select>

    <button id="favFilterBtn">‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ Dr.‚ù§Ô∏è</button>
    
    <button id="darkModeBtn">‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßÅ‡¶° üåô</button>
    <button id="addDoctorBtn">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° Dr.üóíÔ∏è</button>
</div>
<p id="doctorCount"></p>

<div id="doctorContainer"></div>

<button id="backToTop" onclick="document.getElementById('doctorContainer').scrollTo({top:0, behavior:'smooth'})">‚Üë</button>

<footer>made by SJ Shakil<br>version 1.3</footer>

<div id="doctorModal" class="modal">
    <div class="box">
        <h3>‡¶°‡¶ï‡ßç‡¶ü‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</h3>
        
        <div class="input-group">
            <input id="name" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" type="text">
        </div>
        <div class="input-group">
            <input id="doctor" placeholder="‡¶°‡¶ï‡ßç‡¶ü‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" type="text">
        </div>
        <div class="input-group">
            <input list="hospitalList" id="hospital" placeholder="‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" type="text">
            <datalist id="hospitalList"></datalist>
        </div>
        <button id="submitBtn">‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <p id="msg"></p>
        <button onclick="closeModal()" class="close-btn">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶® ‚ùå</button>
    </div>
</div>

<script>
const jsonUrl = "https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLhR-Gul2odeHWlrhW_BwVV4jZeTDnM-FHOggdWfZV0KGDtqMcoIuW5tb1k9sf8FOAYoubSpNj7q0MzxDaeXjoWmZIYb0wL-w4TfFdKwp46lcKPhJO3GG1DZOteXuYXTBRtaXxu4FSYMg2RMO2zBMoXkQwt1p5XvKxVsdu4pLJ8ptBkI49pPVZl1Y5_PNSdqdbcxg3VvtoFv8MWAXRVXFJ2aY_8SrUt2Umd3v-7HA5kQBBF_ah3mAeO5cBTpogiNUDXqxu1Yz-LcV63xPORcmvULDxTDcw&lib=MDAqIAKv-Cob-tYNDcyKsIZGvrR6Rl4Ky";
let allDoctors = [];
let isTodayFilterActive = false; 
let isFavFilterActive = false; 

// ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
let favorites = JSON.parse(localStorage.getItem('bbariaDrFav')) || [];

const dayNamesBangla = ["‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞", "‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞", "‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞", "‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞", "‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞", "‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞", "‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞"];
const dayNamesEnglish = ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"];

const treatmentListBangla = [

    "‡¶°‡¶æ‡¶Ø‡¶º‡¶æ‡¶¨‡ßá‡¶ü‡¶ø‡¶∏", "‡¶π‡ßÉ‡¶¶‡¶∞‡ßã‡¶ó", "‡¶â‡¶ö‡ßç‡¶ö ‡¶∞‡¶ï‡ßç‡¶§‡¶ö‡¶æ‡¶™", "‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡¶æ‡¶∞", "‡¶π‡¶æ‡¶Å‡¶™‡¶æ‡¶®‡¶ø", "‡¶Æ‡¶æ‡¶•‡¶æ‡¶¨‡ßç‡¶Ø‡¶•‡¶æ", "‡¶Æ‡¶æ‡¶á‡¶ó‡ßç‡¶∞‡ßá‡¶®", "‡¶ñ‡¶ø‡¶ö‡ßÅ‡¶®‡¶ø / ‡¶è‡¶™‡¶ø‡¶≤‡ßá‡¶™‡¶∏‡¶ø", 
    "‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶ï", "‡¶á‡¶â‡¶∞‡ßã‡¶≤‡¶ú‡ßÄ, ‡¶≤‡ßç‡¶Ø‡¶æ‡¶™‡¶æ‡¶∞‡ßã‡¶∏‡ßç‡¶ï‡¶™‡¶ø‡¶ï ‡¶ì ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶≤ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ú‡¶® ", "‡¶∏‡ßç‡¶®‡¶æ‡¶Ø‡¶º‡ßÅ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶•‡¶æ", "‡¶∏‡¶∞‡ßç‡¶¶‡¶ø‚Äì‡¶ï‡¶æ‡¶∂‡¶ø", "‡¶á‡¶®‡¶´‡ßç‡¶≤‡ßÅ‡¶Ø‡¶º‡ßá‡¶û‡ßç‡¶ú‡¶æ", "‡¶°‡ßá‡¶ô‡ßç‡¶ó‡ßÅ ‡¶ú‡ßç‡¶¨‡¶∞", "‡¶ö‡¶ø‡¶ï‡ßÅ‡¶®‡¶ó‡ßÅ‡¶®‡¶ø‡¶Ø‡¶º‡¶æ", "‡¶Æ‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ", 
    "‡¶ü‡¶æ‡¶á‡¶´‡¶Ø‡¶º‡ßá‡¶°", "‡¶ï‡¶≤‡ßá‡¶∞‡¶æ", "‡¶π‡ßá‡¶™‡¶æ‡¶ü‡¶æ‡¶á‡¶ü‡¶ø‡¶∏ (‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶π)", "‡¶Ø‡¶ï‡ßç‡¶∑‡ßç‡¶Æ‡¶æ", "‡¶®‡¶ø‡¶â‡¶Æ‡ßã‡¶®‡¶ø‡¶Ø‡¶º‡¶æ", "‡¶ß‡¶®‡ßÅ‡¶∑‡ßç‡¶ü‡¶ô‡ßç‡¶ï‡¶æ‡¶∞", "‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶∞‡¶ï‡ßç‡¶§‡¶ö‡¶æ‡¶™", 
    "‡¶∏‡¶æ‡¶∞‡ßç‡¶ú‡¶æ‡¶∞‡ßÄ", " ‡¶π‡¶æ‡ßú-‡¶ú‡ßã‡ßú‡¶æ", "‡¶π‡ßÉ‡¶¶‡¶∏‡ßç‡¶™‡¶®‡ßç‡¶¶‡¶® ‡¶Ö‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ", "‡¶π‡ßÉ‡ßé‡¶™‡¶ø‡¶£‡ßç‡¶°‡ßá‡¶∞ ‡¶≠‡¶æ‡¶≤‡¶≠‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ", "‡¶•‡¶æ‡¶á‡¶∞‡¶Ø‡¶º‡ßá‡¶° ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ", 
    "‡¶ï‡¶ø‡¶°‡¶®‡¶ø ‡¶∞‡ßã‡¶ó", "‡¶¨‡¶æ‡¶§‡¶ú‡ßç‡¶¨‡¶∞", "‡¶Ü‡¶∞‡ßç‡¶•‡ßç‡¶∞‡¶æ‡¶á‡¶ü‡¶ø‡¶∏", "‡¶°‡¶æ‡¶Ø‡¶º‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ", "‡¶ï‡ßÉ‡¶Æ‡¶ø", "‡¶Ö‡¶™‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø", "‡¶π‡¶æ‡¶Æ", "‡¶ö‡¶ø‡¶ï‡ßá‡¶®‡¶™‡¶ï‡ßç‡¶∏", "‡¶ü‡¶®‡¶∏‡¶ø‡¶≤‡¶æ‡¶á‡¶ü‡¶ø‡¶∏", 
    "‡¶ö‡ßã‡¶ñ ‡¶ö‡ßÅ‡¶≤‡¶ï‡¶æ‡¶®‡¶ø", "‡¶ï‡¶®‡¶ú‡¶æ‡¶Ç‡¶ü‡¶ø‡¶≠‡¶æ‡¶á‡¶ü‡¶ø‡¶∏ (‡¶ö‡ßã‡¶ñ ‡¶â‡¶†‡¶æ)", "‡¶õ‡¶æ‡¶®‡¶ø", "‡¶ö‡ßã‡¶ñ‡ßá‡¶∞ ‡¶¶‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø ‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤", "‡¶ü‡¶®‡¶∏‡¶ø‡¶≤ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ", "‡¶∏‡¶æ‡¶á‡¶®‡ßã‡¶∏‡¶æ‡¶á‡¶ü‡¶ø‡¶∏", 
    "‡¶ï‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶•‡¶æ", "‡¶®‡¶æ‡¶ï ‡¶¨‡¶®‡ßç‡¶ß", "‡¶ó‡¶≤‡¶æ ‡¶¨‡ßç‡¶Ø‡¶•‡¶æ", "‡¶è‡¶ï‡¶ú‡¶ø‡¶Æ‡¶æ", "‡¶ö‡ßÅ‡¶≤‡¶ï‡¶æ‡¶®‡¶ø", "‡¶ò‡¶æ", "‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡ßç‡¶ú‡¶ø", "‡¶´‡ßã‡¶°‡¶º‡¶æ", "‡¶´‡¶æ‡¶ô‡ßç‡¶ó‡¶æ‡¶≤ ‡¶á‡¶®‡¶´‡ßá‡¶ï‡¶∂‡¶®", 
    "‡¶∞‡¶ï‡ßç‡¶§‡¶∏‡ßç‡¶¨‡¶≤‡ßç‡¶™‡¶§‡¶æ", "‡¶∏‡ßç‡¶•‡ßÇ‡¶≤‡¶§‡¶æ", "‡¶Æ‡¶æ‡¶®‡¶∏‡¶ø‡¶ï ‡¶ö‡¶æ‡¶™", "‡¶°‡¶ø‡¶™‡ßç‡¶∞‡ßá‡¶∂‡¶®", "‡¶ñ‡¶æ‡¶¶‡ßç‡¶Ø‡ßá ‡¶¨‡¶ø‡¶∑‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ"

].sort();

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]]; 
    }
}
function getRandomColor(isDark){
    const h=Math.floor(Math.random()*360);
    return isDark ? `hsl(${h}, 30%, 20%)` : `hsl(${h}, 80%, 95%)`;
}
function generateMainLoader(statusText="‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..."){
    return `<div class="main-loader-container"><div class="main-spinner"></div><p>${statusText}</p></div>`;
}

function loadDoctors(){ 
    const container = document.getElementById("doctorContainer");
    container.innerHTML = generateMainLoader("‚åõ‚åõ ‡¶¨‡ßç‡¶∞‡¶æ‡¶π‡ßç‡¶Æ‡¶£‡¶¨‡¶æ‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡¶æ ‡¶°‡¶ï‡ßç‡¶ü‡¶∞ ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‚åõ‚åõ"); 
    document.getElementById("doctorCount").textContent = `üïîüïî‡¶è‡¶ï‡¶ü‡ßÅ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® üïîüïî...`;

    fetch(jsonUrl)
    .then(res=>res.json())
    .then(data=>{
        // --- ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ---
        // ‡¶®‡¶æ‡¶Æ + ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ + ‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶≤‡¶ø‡ßü‡ßá ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá
        allDoctors = data.map(d => ({
            ...d,
            uniqueID: (d.doctorname + (d.mobile||'') + (d.hospitalname||'')).replace(/\s/g, '')
        }));
        
        shuffleArray(allDoctors); 
        populateFilters();
        renderDoctors();
    }).catch(err=>{
        container.innerHTML=generateMainLoader("‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§!! ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø üò¢‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®!‚ôªÔ∏è!<br>‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶® üåê"); 
        document.getElementById("doctorCount").textContent = `‡¶Æ‡ßã‡¶ü ‡ß¶ ‡¶ú‡¶® ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞`;
    });
}

function populateFilters(){
    const hospitals = [...new Set(allDoctors.map(d=>d.hospitalname))];
    
    const hospitalFilter = document.getElementById("hospitalFilter");
    hospitalFilter.innerHTML='<option value="">‡¶π‡¶æ‡¶∏‡¶™‡¶æ‡¶§‡¶æ‡¶≤</option>';
    hospitals.forEach(h=>{hospitalFilter.innerHTML+=`<option value="${h}">${h}</option>`;});
    hospitalFilter.addEventListener("change", renderDoctors);

    // **‡¶è‡¶á ‡¶Ö‡¶Ç‡¶∂‡¶ü‡¶ø ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá - ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶ü‡ßç‡¶∞‡¶ø‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá**
    const treatmentFilter = document.getElementById("treatmentFilter");
    treatmentFilter.innerHTML='<option value="">‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó/‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ</option>';
    
    // JSON ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶ü‡ßç‡¶∞‡¶ø‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶®‡ßá‡ßü‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶°‡ßÅ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶ü ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶æ
    const allTreatments = allDoctors.map(d => d.treatment || '').filter(t => t.trim() !== '');
    const uniqueTreatments = [...new Set(allTreatments)];
    
    // ‡¶Ü‡¶≤‡¶´‡¶æ‡¶¨‡ßá‡¶ü‡¶ø‡¶ï‡¶æ‡¶≤‡¶ø ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã
    uniqueTreatments.sort();
    
    // ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ï‡¶∞‡¶æ
    uniqueTreatments.forEach(t=>{
        treatmentFilter.innerHTML+=`<option value="${t}">${t}</option>`;
    });
    
    treatmentFilter.addEventListener("change", renderDoctors); 

    const hospitalList = document.getElementById("hospitalList");
    hospitalList.innerHTML = "";
    hospitals.forEach(h=>{hospitalList.innerHTML+=`<option value="${h}">`;});

    const weeklyFilter = document.getElementById("weeklyFilter");
    weeklyFilter.innerHTML = '<option value="">‡¶∏‡¶æ‡¶™‡ßç‡¶§‡¶æ‡¶π‡¶ø‡¶ï Dr. üóìÔ∏è</option>';
    dayNamesBangla.forEach((dayName)=>{weeklyFilter.innerHTML+=`<option value="${dayName}">${dayName}</option>`;});
    weeklyFilter.addEventListener("change", renderDoctors);
}

function isAvailableOnDay(timeString, selectedDayBangla) {
    if (!timeString || !selectedDayBangla) return true;
    const timeLower = timeString.toLowerCase();
    const selectedDayLower = selectedDayBangla.toLowerCase();
    if (timeLower.includes('‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶ø‡¶®') || timeLower.includes('daily')) return true;
    if (timeLower.includes(selectedDayLower)) return true;
    const selectedDayIndex = dayNamesBangla.indexOf(selectedDayBangla);
    if (selectedDayIndex !== -1 && timeLower.includes(dayNamesEnglish[selectedDayIndex])) return true;
    return false;
}

function isAvailableToday(timeString) {
    if (!timeString) return false;
    const todayIndex = new Date().getDay(); 
    return isAvailableOnDay(timeString, dayNamesBangla[todayIndex]);
}

// --- ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶´‡ßá‡¶≠‡¶æ‡¶∞‡¶ø‡¶ü ‡¶ü‡¶ó‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---
function toggleFavorite(uniqueID){
    if(favorites.includes(uniqueID)){
        favorites = favorites.filter(id => id !== uniqueID); 
    } else {
        favorites.push(uniqueID); 
    }
    localStorage.setItem('bbariaDrFav', JSON.stringify(favorites)); 
    renderDoctors(); 
}

function renderDoctors(){
    const container = document.getElementById("doctorContainer");
    container.innerHTML="";
    const searchText = document.getElementById("searchInput").value.toLowerCase();
    const filterHospital = document.getElementById("hospitalFilter").value;
    const filterTreatment = document.getElementById("treatmentFilter").value; 
    const filterDay = document.getElementById("weeklyFilter").value; 

    const filteredDoctors = allDoctors.filter(d=>{
        const searchMatch = (d.doctorname.toLowerCase().includes(searchText) || d.education.toLowerCase().includes(searchText) || d.hospitalname.toLowerCase().includes(searchText) || (d.treatment && d.treatment.toLowerCase().includes(searchText))); 
        
        const hospitalMatch = (!filterHospital || d.hospitalname===filterHospital);
        
        let treatmentMatch = true;
        if (filterTreatment) {
            if (d.treatment) {
                // ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ü‡ßç‡¶∞‡¶ø‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü
                const selectedTreatmentLower = filterTreatment.toLowerCase();
                
                // ‡¶°‡¶ï‡ßç‡¶ü‡¶∞‡ßá‡¶∞ ‡¶ü‡ßç‡¶∞‡¶ø‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶°‡¶æ‡¶ü‡¶æ
                const doctorTreatmentLower = d.treatment.toLowerCase();

                // ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡¶ü‡¶ø‡¶∞ ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó‡¶ü‡¶ø ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ
                treatmentMatch = doctorTreatmentLower.includes(selectedTreatmentLower);

            } else {
                treatmentMatch = false; // ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶ü‡ßç‡¶∞‡¶ø‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ö ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ
            }
        }

        const dayMatch = (!filterDay) ? true : isAvailableOnDay(d.time, filterDay);
        
        if(filterDay) isTodayFilterActive = false;
        const todayMatch = (isTodayFilterActive && !filterDay) ? isAvailableToday(d.time) : true;

        // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶è‡¶ñ‡¶® ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
        const favMatch = isFavFilterActive ? favorites.includes(d.uniqueID) : true;
        
        return searchMatch && hospitalMatch && treatmentMatch && todayMatch && dayMatch && favMatch; 
    });

    let countMsg = `‡¶Æ‡ßã‡¶ü ${filteredDoctors.length} ‡¶ú‡¶® ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞`;
    if(isTodayFilterActive) countMsg += " (‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)";
    else if(filterDay) countMsg += ` (${filterDay} ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)`;
    else if(isFavFilterActive) countMsg += " (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‚ù§Ô∏è)";

    document.getElementById("doctorCount").textContent = countMsg;

    const todayBtn = document.getElementById("todayDoctorBtn");
    todayBtn.classList.toggle('active-filter-btn', isTodayFilterActive && !filterDay);
    todayBtn.textContent = isTodayFilterActive ? `‡¶∏‡¶ï‡¶≤ Dr. ‚ùå` : `‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ Dr. üë®‚Äç‚öïÔ∏è`;
    todayBtn.style.backgroundColor = isTodayFilterActive ? '#cc5200' : '#ff6600';

    const favBtn = document.getElementById("favFilterBtn");
    favBtn.classList.toggle('active-filter-btn', isFavFilterActive);
    favBtn.textContent = isFavFilterActive ? `‡¶∏‡¶¨ Dr. ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® üîô` : `‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ Dr. ü§ç`;


    if(filteredDoctors.length===0){
        let msg = "‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶ï‡ßç‡¶ü‡¶∞ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø üò¢‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶® ‚ôªÔ∏è!!";
        if (isTodayFilterActive) msg = `‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¶‡¶ø‡¶®‡ßá ‡¶°‡¶ï‡ßç‡¶ü‡¶∞ ‡¶®‡ßá‡¶á‡•§`;
        if (isFavFilterActive) msg = `‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶°‡¶æ‡¶ï‡ßç‡¶§‡¶æ‡¶∞ ‡¶®‡ßá‡¶á üíî‡•§ ‡¶π‡¶æ‡¶∞‡ßç‡¶ü ‡¶Ü‡¶á‡¶ï‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§`;
        container.innerHTML=generateMainLoader(msg);
        return;
    }

    const isDarkMode = document.body.classList.contains('dark-mode');
    filteredDoctors.forEach(d=>{
        const card = document.createElement("div");
        card.className="card show"; 
        card.style.backgroundColor = getRandomColor(isDarkMode);

        // ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
        const isFav = favorites.includes(d.uniqueID);
        const heartIcon = isFav ? 'üíù' : 'üíñ';

        card.innerHTML=`
            <button class="fav-icon" onclick="toggleFavorite('${d.uniqueID}')" title="${isFav ? 'Remove' : 'Save'}">${heartIcon}</button>
            <div class="doctor-name">${d.doctorname}</div>
            <p><span class="label">Degree:</span> ${d.education || 'N/A'}</p>
            <p><span class="label">Hospital:</span> ${d.hospitalname || 'N/A'}</p>
            <p><span class="label">Location:</span> ${d.hosplace || 'N/A'}</p>
            <p><span class="label">Specialist:</span> ${d.treatment || 'N/A'}</p>
            <p><span class="label">Time:</span> ${d.time || 'N/A'}</p>
            <p><span class="label">Mobile:</span> <a href="tel:${d.mobile}" style="text-decoration:none; color:inherit; font-weight:bold;">${d.mobile || 'N/A'} üìû</a></p>
            <button class="share-btn" onclick="shareDoctor('${d.doctorname}','${d.hospitalname}','${d.mobile}')">‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® üì§</button>
        `;
        container.appendChild(card);
    });
}

function shareDoctor(name,hospital,phone){
    const text = `‡¶°‡¶ï‡ßç‡¶ü‡¶∞: ${name}\n‡¶π‡¶∏‡¶™‡¶ø‡¶ü‡¶æ‡¶≤: ${hospital}\n‡¶´‡ßã‡¶®: ${phone}`;
    if(navigator.share){ navigator.share({title:"Doctor Info", text}); }
    else{ prompt("‡¶è‡¶á ‡¶§‡¶•‡ßç‡¶Ø ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®:", text); } 
}

document.getElementById("searchInput").addEventListener("input", renderDoctors);

// ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∏ ‡¶≤‡¶ú‡¶ø‡¶ï
document.getElementById("refreshBtn").addEventListener("click", () => {
    isTodayFilterActive = false;
    isFavFilterActive = false;
    document.getElementById("searchInput").value = "";
    document.getElementById("hospitalFilter").value = "";
    document.getElementById("treatmentFilter").value = "";
    document.getElementById("weeklyFilter").value = "";
    loadDoctors();
});

document.getElementById("todayDoctorBtn").addEventListener("click", () => {
    isTodayFilterActive = !isTodayFilterActive; 
    isFavFilterActive = false; 
    document.getElementById("weeklyFilter").value = ""; 
    renderDoctors(); 
});

document.getElementById("favFilterBtn").addEventListener("click", () => {
    isFavFilterActive = !isFavFilterActive;
    isTodayFilterActive = false; 
    document.getElementById("weeklyFilter").value = "";
    renderDoctors();
});

document.getElementById("darkModeBtn").addEventListener("click", ()=>{
    document.body.classList.toggle("dark-mode");
    document.querySelectorAll('.card').forEach(card => {
        card.style.backgroundColor = getRandomColor(document.body.classList.contains('dark-mode'));
    });
});
loadDoctors();

document.getElementById("doctorContainer").addEventListener("scroll",()=>{
    const btn=document.getElementById("backToTop");
    btn.style.display=document.getElementById("doctorContainer").scrollTop>300?"block":"none";
});

// Modal Form Logic
const modal = document.getElementById("doctorModal");
document.getElementById("addDoctorBtn").addEventListener("click", ()=>{ modal.classList.add("show"); });
function closeModal(){ 
    modal.classList.remove("show"); 
    document.getElementById("name").value=""; 
    document.getElementById("doctor").value=""; 
    document.getElementById("hospital").value="";
    document.getElementById("msg").innerText = "";
    document.getElementById("submitBtn").textContent = '‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®';
}

const submitBtn = document.getElementById("submitBtn");
const msg = document.getElementById("msg");

submitBtn.addEventListener("click", (e)=>{
    e.preventDefault(); 
    const name = document.getElementById("name").value.trim();
    const doctor = document.getElementById("doctor").value.trim();
    const hospital = document.getElementById("hospital").value.trim();
    
    if(!name || !doctor || !hospital){
        msg.innerText="‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶∏‡¶¨ ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï‡•§"; msg.style.color="red"; setTimeout(()=>{ msg.innerText=""; },3000); return; 
    }

    submitBtn.textContent = 'Submitting... ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá'; 
    
    fetch("https://script.google.com/macros/s/AKfycbxpZRGPgFZlGgHhRAC3Mg0uhRxS2iFhZF4QVFP4A36CHPktsTWv-y8XKkrRP9pcRwla/exec",{
        method:"POST", body: JSON.stringify({name, doctor, hospital})
    })
    .then(res=>res.text())
    .then(()=>{
        submitBtn.textContent = '‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®';
        msg.innerText="‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ü§ù‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‚úÖ"; msg.style.color="green"; 
        setTimeout(() => { closeModal(); loadDoctors(); }, 4000); 
    })
    .catch(()=>{
        submitBtn.textContent = '‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®';
        msg.innerText="‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§! ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá, ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"; msg.style.color="red"; 
        setTimeout(()=>{ msg.innerText=""; },3000);
    });
});
</script>
</body>
</html>
